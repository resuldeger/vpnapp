{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"./CanceledError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":47,"index":62}}],"key":"HXdnwVm8GnT3q7i8irVa9SJIlMY=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _CanceledError = _interopRequireDefault(require(_dependencyMap[1], \"./CanceledError.js\"));\n  /**\n   * A `CancelToken` is an object that can be used to request cancellation of an operation.\n   *\n   * @param {Function} executor The executor function.\n   *\n   * @returns {CancelToken}\n   */\n  class CancelToken {\n    constructor(executor) {\n      if (typeof executor !== 'function') {\n        throw new TypeError('executor must be a function.');\n      }\n      let resolvePromise;\n      this.promise = new Promise(function promiseExecutor(resolve) {\n        resolvePromise = resolve;\n      });\n      const token = this;\n\n      // eslint-disable-next-line func-names\n      this.promise.then(cancel => {\n        if (!token._listeners) return;\n        let i = token._listeners.length;\n        while (i-- > 0) {\n          token._listeners[i](cancel);\n        }\n        token._listeners = null;\n      });\n\n      // eslint-disable-next-line func-names\n      this.promise.then = onfulfilled => {\n        let _resolve;\n        // eslint-disable-next-line func-names\n        const promise = new Promise(resolve => {\n          token.subscribe(resolve);\n          _resolve = resolve;\n        }).then(onfulfilled);\n        promise.cancel = function reject() {\n          token.unsubscribe(_resolve);\n        };\n        return promise;\n      };\n      executor(function cancel(message, config, request) {\n        if (token.reason) {\n          // Cancellation has already been requested\n          return;\n        }\n        token.reason = new _CanceledError.default(message, config, request);\n        resolvePromise(token.reason);\n      });\n    }\n\n    /**\n     * Throws a `CanceledError` if cancellation has been requested.\n     */\n    throwIfRequested() {\n      if (this.reason) {\n        throw this.reason;\n      }\n    }\n\n    /**\n     * Subscribe to the cancel signal\n     */\n\n    subscribe(listener) {\n      if (this.reason) {\n        listener(this.reason);\n        return;\n      }\n      if (this._listeners) {\n        this._listeners.push(listener);\n      } else {\n        this._listeners = [listener];\n      }\n    }\n\n    /**\n     * Unsubscribe from the cancel signal\n     */\n\n    unsubscribe(listener) {\n      if (!this._listeners) {\n        return;\n      }\n      const index = this._listeners.indexOf(listener);\n      if (index !== -1) {\n        this._listeners.splice(index, 1);\n      }\n    }\n    toAbortSignal() {\n      const controller = new AbortController();\n      const abort = err => {\n        controller.abort(err);\n      };\n      this.subscribe(abort);\n      controller.signal.unsubscribe = () => this.unsubscribe(abort);\n      return controller.signal;\n    }\n\n    /**\n     * Returns an object that contains a new `CancelToken` and a function that, when called,\n     * cancels the `CancelToken`.\n     */\n    static source() {\n      let cancel;\n      const token = new CancelToken(function executor(c) {\n        cancel = c;\n      });\n      return {\n        token,\n        cancel\n      };\n    }\n  }\n  var _default = exports.default = CancelToken;\n});","lineCount":125,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"require"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"default"],[8,17,1,13],[9,2,3,0],[9,6,3,0,"_CanceledError"],[9,20,3,0],[9,23,3,0,"_interopRequireDefault"],[9,45,3,0],[9,46,3,0,"require"],[9,53,3,0],[9,54,3,0,"_dependencyMap"],[9,68,3,0],[10,2,5,0],[11,0,6,0],[12,0,7,0],[13,0,8,0],[14,0,9,0],[15,0,10,0],[16,0,11,0],[17,2,12,0],[17,8,12,6,"CancelToken"],[17,19,12,17],[17,20,12,18],[18,4,13,2,"constructor"],[18,15,13,13,"constructor"],[18,16,13,14,"executor"],[18,24,13,22],[18,26,13,24],[19,6,14,4],[19,10,14,8],[19,17,14,15,"executor"],[19,25,14,23],[19,30,14,28],[19,40,14,38],[19,42,14,40],[20,8,15,6],[20,14,15,12],[20,18,15,16,"TypeError"],[20,27,15,25],[20,28,15,26],[20,58,15,56],[20,59,15,57],[21,6,16,4],[22,6,18,4],[22,10,18,8,"resolvePromise"],[22,24,18,22],[23,6,20,4],[23,10,20,8],[23,11,20,9,"promise"],[23,18,20,16],[23,21,20,19],[23,25,20,23,"Promise"],[23,32,20,30],[23,33,20,31],[23,42,20,40,"promiseExecutor"],[23,57,20,55,"promiseExecutor"],[23,58,20,56,"resolve"],[23,65,20,63],[23,67,20,65],[24,8,21,6,"resolvePromise"],[24,22,21,20],[24,25,21,23,"resolve"],[24,32,21,30],[25,6,22,4],[25,7,22,5],[25,8,22,6],[26,6,24,4],[26,12,24,10,"token"],[26,17,24,15],[26,20,24,18],[26,24,24,22],[28,6,26,4],[29,6,27,4],[29,10,27,8],[29,11,27,9,"promise"],[29,18,27,16],[29,19,27,17,"then"],[29,23,27,21],[29,24,27,22,"cancel"],[29,30,27,28],[29,34,27,32],[30,8,28,6],[30,12,28,10],[30,13,28,11,"token"],[30,18,28,16],[30,19,28,17,"_listeners"],[30,29,28,27],[30,31,28,29],[31,8,30,6],[31,12,30,10,"i"],[31,13,30,11],[31,16,30,14,"token"],[31,21,30,19],[31,22,30,20,"_listeners"],[31,32,30,30],[31,33,30,31,"length"],[31,39,30,37],[32,8,32,6],[32,15,32,13,"i"],[32,16,32,14],[32,18,32,16],[32,21,32,19],[32,22,32,20],[32,24,32,22],[33,10,33,8,"token"],[33,15,33,13],[33,16,33,14,"_listeners"],[33,26,33,24],[33,27,33,25,"i"],[33,28,33,26],[33,29,33,27],[33,30,33,28,"cancel"],[33,36,33,34],[33,37,33,35],[34,8,34,6],[35,8,35,6,"token"],[35,13,35,11],[35,14,35,12,"_listeners"],[35,24,35,22],[35,27,35,25],[35,31,35,29],[36,6,36,4],[36,7,36,5],[36,8,36,6],[38,6,38,4],[39,6,39,4],[39,10,39,8],[39,11,39,9,"promise"],[39,18,39,16],[39,19,39,17,"then"],[39,23,39,21],[39,26,39,24,"onfulfilled"],[39,37,39,35],[39,41,39,39],[40,8,40,6],[40,12,40,10,"_resolve"],[40,20,40,18],[41,8,41,6],[42,8,42,6],[42,14,42,12,"promise"],[42,21,42,19],[42,24,42,22],[42,28,42,26,"Promise"],[42,35,42,33],[42,36,42,34,"resolve"],[42,43,42,41],[42,47,42,45],[43,10,43,8,"token"],[43,15,43,13],[43,16,43,14,"subscribe"],[43,25,43,23],[43,26,43,24,"resolve"],[43,33,43,31],[43,34,43,32],[44,10,44,8,"_resolve"],[44,18,44,16],[44,21,44,19,"resolve"],[44,28,44,26],[45,8,45,6],[45,9,45,7],[45,10,45,8],[45,11,45,9,"then"],[45,15,45,13],[45,16,45,14,"onfulfilled"],[45,27,45,25],[45,28,45,26],[46,8,47,6,"promise"],[46,15,47,13],[46,16,47,14,"cancel"],[46,22,47,20],[46,25,47,23],[46,34,47,32,"reject"],[46,40,47,38,"reject"],[46,41,47,38],[46,43,47,41],[47,10,48,8,"token"],[47,15,48,13],[47,16,48,14,"unsubscribe"],[47,27,48,25],[47,28,48,26,"_resolve"],[47,36,48,34],[47,37,48,35],[48,8,49,6],[48,9,49,7],[49,8,51,6],[49,15,51,13,"promise"],[49,22,51,20],[50,6,52,4],[50,7,52,5],[51,6,54,4,"executor"],[51,14,54,12],[51,15,54,13],[51,24,54,22,"cancel"],[51,30,54,28,"cancel"],[51,31,54,29,"message"],[51,38,54,36],[51,40,54,38,"config"],[51,46,54,44],[51,48,54,46,"request"],[51,55,54,53],[51,57,54,55],[52,8,55,6],[52,12,55,10,"token"],[52,17,55,15],[52,18,55,16,"reason"],[52,24,55,22],[52,26,55,24],[53,10,56,8],[54,10,57,8],[55,8,58,6],[56,8,60,6,"token"],[56,13,60,11],[56,14,60,12,"reason"],[56,20,60,18],[56,23,60,21],[56,27,60,25,"CanceledError"],[56,49,60,38],[56,50,60,39,"message"],[56,57,60,46],[56,59,60,48,"config"],[56,65,60,54],[56,67,60,56,"request"],[56,74,60,63],[56,75,60,64],[57,8,61,6,"resolvePromise"],[57,22,61,20],[57,23,61,21,"token"],[57,28,61,26],[57,29,61,27,"reason"],[57,35,61,33],[57,36,61,34],[58,6,62,4],[58,7,62,5],[58,8,62,6],[59,4,63,2],[61,4,65,2],[62,0,66,0],[63,0,67,0],[64,4,68,2,"throwIfRequested"],[64,20,68,18,"throwIfRequested"],[64,21,68,18],[64,23,68,21],[65,6,69,4],[65,10,69,8],[65,14,69,12],[65,15,69,13,"reason"],[65,21,69,19],[65,23,69,21],[66,8,70,6],[66,14,70,12],[66,18,70,16],[66,19,70,17,"reason"],[66,25,70,23],[67,6,71,4],[68,4,72,2],[70,4,74,2],[71,0,75,0],[72,0,76,0],[74,4,78,2,"subscribe"],[74,13,78,11,"subscribe"],[74,14,78,12,"listener"],[74,22,78,20],[74,24,78,22],[75,6,79,4],[75,10,79,8],[75,14,79,12],[75,15,79,13,"reason"],[75,21,79,19],[75,23,79,21],[76,8,80,6,"listener"],[76,16,80,14],[76,17,80,15],[76,21,80,19],[76,22,80,20,"reason"],[76,28,80,26],[76,29,80,27],[77,8,81,6],[78,6,82,4],[79,6,84,4],[79,10,84,8],[79,14,84,12],[79,15,84,13,"_listeners"],[79,25,84,23],[79,27,84,25],[80,8,85,6],[80,12,85,10],[80,13,85,11,"_listeners"],[80,23,85,21],[80,24,85,22,"push"],[80,28,85,26],[80,29,85,27,"listener"],[80,37,85,35],[80,38,85,36],[81,6,86,4],[81,7,86,5],[81,13,86,11],[82,8,87,6],[82,12,87,10],[82,13,87,11,"_listeners"],[82,23,87,21],[82,26,87,24],[82,27,87,25,"listener"],[82,35,87,33],[82,36,87,34],[83,6,88,4],[84,4,89,2],[86,4,91,2],[87,0,92,0],[88,0,93,0],[90,4,95,2,"unsubscribe"],[90,15,95,13,"unsubscribe"],[90,16,95,14,"listener"],[90,24,95,22],[90,26,95,24],[91,6,96,4],[91,10,96,8],[91,11,96,9],[91,15,96,13],[91,16,96,14,"_listeners"],[91,26,96,24],[91,28,96,26],[92,8,97,6],[93,6,98,4],[94,6,99,4],[94,12,99,10,"index"],[94,17,99,15],[94,20,99,18],[94,24,99,22],[94,25,99,23,"_listeners"],[94,35,99,33],[94,36,99,34,"indexOf"],[94,43,99,41],[94,44,99,42,"listener"],[94,52,99,50],[94,53,99,51],[95,6,100,4],[95,10,100,8,"index"],[95,15,100,13],[95,20,100,18],[95,21,100,19],[95,22,100,20],[95,24,100,22],[96,8,101,6],[96,12,101,10],[96,13,101,11,"_listeners"],[96,23,101,21],[96,24,101,22,"splice"],[96,30,101,28],[96,31,101,29,"index"],[96,36,101,34],[96,38,101,36],[96,39,101,37],[96,40,101,38],[97,6,102,4],[98,4,103,2],[99,4,105,2,"toAbortSignal"],[99,17,105,15,"toAbortSignal"],[99,18,105,15],[99,20,105,18],[100,6,106,4],[100,12,106,10,"controller"],[100,22,106,20],[100,25,106,23],[100,29,106,27,"AbortController"],[100,44,106,42],[100,45,106,43],[100,46,106,44],[101,6,108,4],[101,12,108,10,"abort"],[101,17,108,15],[101,20,108,19,"err"],[101,23,108,22],[101,27,108,27],[102,8,109,6,"controller"],[102,18,109,16],[102,19,109,17,"abort"],[102,24,109,22],[102,25,109,23,"err"],[102,28,109,26],[102,29,109,27],[103,6,110,4],[103,7,110,5],[104,6,112,4],[104,10,112,8],[104,11,112,9,"subscribe"],[104,20,112,18],[104,21,112,19,"abort"],[104,26,112,24],[104,27,112,25],[105,6,114,4,"controller"],[105,16,114,14],[105,17,114,15,"signal"],[105,23,114,21],[105,24,114,22,"unsubscribe"],[105,35,114,33],[105,38,114,36],[105,44,114,42],[105,48,114,46],[105,49,114,47,"unsubscribe"],[105,60,114,58],[105,61,114,59,"abort"],[105,66,114,64],[105,67,114,65],[106,6,116,4],[106,13,116,11,"controller"],[106,23,116,21],[106,24,116,22,"signal"],[106,30,116,28],[107,4,117,2],[109,4,119,2],[110,0,120,0],[111,0,121,0],[112,0,122,0],[113,4,123,2],[113,11,123,9,"source"],[113,17,123,15,"source"],[113,18,123,15],[113,20,123,18],[114,6,124,4],[114,10,124,8,"cancel"],[114,16,124,14],[115,6,125,4],[115,12,125,10,"token"],[115,17,125,15],[115,20,125,18],[115,24,125,22,"CancelToken"],[115,35,125,33],[115,36,125,34],[115,45,125,43,"executor"],[115,53,125,51,"executor"],[115,54,125,52,"c"],[115,55,125,53],[115,57,125,55],[116,8,126,6,"cancel"],[116,14,126,12],[116,17,126,15,"c"],[116,18,126,16],[117,6,127,4],[117,7,127,5],[117,8,127,6],[118,6,128,4],[118,13,128,11],[119,8,129,6,"token"],[119,13,129,11],[120,8,130,6,"cancel"],[121,6,131,4],[121,7,131,5],[122,4,132,2],[123,2,133,0],[124,2,133,1],[124,6,133,1,"_default"],[124,14,133,1],[124,17,133,1,"exports"],[124,24,133,1],[124,25,133,1,"default"],[124,32,133,1],[124,35,135,15,"CancelToken"],[124,46,135,26],[125,0,135,26],[125,3]],"functionMap":{"names":["<global>","CancelToken","constructor","promiseExecutor","promise.then$argument_0","promise.then","Promise$argument_0","reject","cancel","throwIfRequested","subscribe","unsubscribe","toAbortSignal","abort","controller.signal.unsubscribe","source","executor"],"mappings":"AAA;ACW;ECC;+BCO;KDE;sBEK;KFS;wBGG;kCCG;ODG;uBEE;OFE;KHG;aME;KNQ;GDC;EQK;GRI;ESM;GTW;EUM;GVQ;EWE;kBCG;KDE;oCEI,6BF;GXG;EcM;kCCE;KDE;GdK;CDC"}},"type":"js/module"}]}